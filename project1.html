<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Building My Digital Presence</title>
  <!-- Icon Classes -->
  <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
  <!-- Google Font -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;700&display=swap">
  <!-- External CSS -->
  <link rel="stylesheet" href="style.css" />
  <!-- Pre-load projects -->
  <link rel="prefetch" href="project1.html" as="document">
  <link rel="prefetch" href="project2.html" as="document">
  <link rel="prefetch" href="project3.html" as="document">
  <link rel="prefetch" href="project4.html" as="document">
</head>

<body>
  <!-- Header -->
  <header class="common-header">
    <div class="header-left">
      <a class="back" href="index.html">
        <i class='bx bx-arrow-back'></i>
      </a>
      <button class="logo" onclick="window.location.reload();">FP</button>
    </div>
    <div class="header-right">
      <button id="menuToggle" aria-label="Project Menu">
        <i class="bx bx-menu"></i>
      </button>
    </div>
  </header>
  
  <!-- Main -->
  <main class="main-content">
    <!-- Main Project Content -->
    <div class="container">
      <!-- 1. Introduction -->
      <section class="project-section" id="introduction">
        <h1>Building My Digital Presence</h1>
        
        <!-- Introductory Text -->
        <div class="content-block text-block">
          <p>With no experience in web development, I built my first website from scratch.</p>
        </div>
        
        <!-- Story Beat: Design -->
        <div class="content-block highlight-block">
          <h2>Design...</h2>
          <img src="images/siteprogress.gif" alt="Illustration of design process">
        </div>
        
        <!-- Story Beat: Code Structure -->
        <div class="content-block highlight-block">
          <h2>Code Structure...</h2>
          <img src="images/code-structure.jpg" alt="Illustration of code organization">
        </div>
        
        <!-- Story Beat: Problem Solving -->
        <div class="content-block highlight-block">
          <h2>Problem Solving...</h2>
          <img src="images/problem-solving.jpg" alt="Illustration of problem solving">
        </div>
        
        <!-- Concluding Intro -->
        <div class="content-block text-block">
          <p>I learned how to turn ideas into a working website while improving through testing and iteration.</p>
        </div>
      </section>

      <!-- 2. Early Challenges: Getting Started -->
      <section class="project-section" id="early-challenges">
        <h1>Getting Started</h1>
        
        <div class="content-block text-block">
          <p>I wrote all the styling directly in the HTML, thinking it would keep things simple.</p>
        </div>
        
        <div class="content-block highlight-block">
          <h2>Debugging...</h2>
          <img src="images/gif-inline-styling-challenge.gif" alt="Struggle with inline styling">
        </div>
        
        <div class="content-block text-block">
          <p>This made the code difficult to read and update.</p>
        </div>
        
        <div class="content-block highlight-block">
          <h2>Learning Separation...</h2>
          <img src="images/css-separation.jpg" alt="Visual representation of separating CSS from HTML">
        </div>
        
        <div class="content-block text-block">
          <p>Separating content from styling made the code easier to manage.</p>
        </div>
      </section>

      <!-- 3. Refactoring & Reorganizing -->
      <section class="project-section" id="refactoring">
        <h1>Refactoring & Reorganizing</h1>
        
        <div class="content-block text-block">
          <p>I moved all styling to an external CSS file to keep the code clean and organized.</p>
        </div>
        
        <div class="content-block highlight-block">
          <h2>Refactoring...</h2>
          <img src="images/gif-css-refactoring.gif" alt="Animation of the refactoring process">
        </div>
        
        <div class="content-block text-block">
          <p>Breaking the stylesheet into clear sections improved readability and made updates easier.</p>
        </div>
        
        <div class="content-block highlight-block">
          <h2>Efficiency & Scalability...</h2>
          <img src="images/structured-code.jpg" alt="Illustration of structured, efficient code">
        </div>
        
        <div class="content-block text-block">
          <p>This process emphasized the importance of keeping code clear and easy to maintain.</p>
        </div>
      </section>

      <!-- 4. Enhancements & Iterative Improvements -->
      <section class="project-section" id="enhancements">
        <h1>Staying Focused on What Matters</h1>
        
        <div class="content-block text-block">
          <p>I spent hours adjusting colors, animations, and visual effects.</p>
        </div>
        
        <div class="content-block highlight-block">
          <h2>A Polished but Incomplete Site...</h2>
          <img src="images/gif-enhancements.gif" alt="Animation showcasing visual improvements">
        </div>
        
        <div class="content-block text-block">
          <p>The site looked refined but lacked purpose.</p>
        </div>
        
        <div class="content-block highlight-block">
          <h2>Reprioritizing What Matters...</h2>
          <img src="images/content-focus.jpg" alt="Illustration emphasizing the importance of content">
        </div>
        
        <div class="content-block text-block">
          <p>Adding projects that reflect my skills and progress made the site more complete and purposeful.</p>
        </div>
      </section>

      <!-- 5. Final Product & Reflections -->
      <section class="project-section" id="final-product">
        <h1>A Website Built Through Learning</h1>
        
        <div class="content-block text-block">
          <p>The final product is a responsive site shaped by curiosity and experimentation.</p>
        </div>
        
        <div class="content-block highlight-block">
          <h2>Thinking Beyond the Code...</h2>
          <img src="images/final-design.jpg" alt="Showcase of the final design">
        </div>
        
        <div class="content-block text-block">
          <p>Every challenge required breaking down complex tasks and finding clear solutions.</p>
        </div>
        
        <div class="content-block highlight-block">
          <h2>Proof of Adaptability...</h2>
          <img src="images/final-code.jpg" alt="Showcase of clean, efficient code">
        </div>
        
        <div class="content-block text-block">
          <p>This site proves my ability to learn quickly, adapt, and create something functional from the ground up.</p>
        </div>
      </section>
    </div>
    
    <!-- Sliding Sidebar for Project Navigation -->
    <div id="projectSidebar" class="sidebar">
      <div class="sidebar-header">
        <h2>Projects</h2>
        <button id="closeSidebar" aria-label="Close Menu">
          <i class="bx bx-x"></i>
        </button>
      </div>
      <!-- Filter Toolbar -->
      <div class="sidebar-filter">
        <button class="filter-btn" data-filter="featured">Featured</button>
        <button class="filter-btn" data-filter="other">Other</button>
        <button class="filter-btn" data-filter="all">All</button>
      </div>
      <div class="sidebar-content">
        <h3 class="sidebar-section-title featured-title">Featured</h3>
        <ul class="sidebar-list featured-list">
          <li>
            <a href="project1.html">
              <img src="images/HTML-Thumb.jpg" alt="Project 1 Thumbnail">
              <span>Building My Digital Presence</span>
            </a>
          </li>
          <li>
            <a href="project2.html">
              <img src="images/project2-thumb.jpg" alt="Project 2 Thumbnail">
              <span>MongoDB Business Use Case</span>
            </a>
          </li>
          <li>
            <a href="project3.html">
              <img src="images/project3-thumb.jpg" alt="Project 3 Thumbnail">
              <span>Titanic Survival Prediction</span>
            </a>
          </li>
        </ul>
        <h3 class="sidebar-section-title other-title">Other Projects</h3>
        <ul class="sidebar-list other-list">
          <li>
            <a href="project4.html">
              <img src="images/project4-thumb.jpg" alt="Project 4 Thumbnail">
              <span>Multiple Regression Analysis</span>
            </a>
          </li>
          <!-- Additional project items as needed -->
        </ul>
      </div>
    </div>
  </main>
  
  <!-- Footer -->
  <footer class="project-footer">
    <p>&copy; <span id="year"></span> Fabrizio Petrozzi. All rights reserved.</p>
  </footer>

  <!-- Scripts -->
  <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
  <script src="darkmode.js"></script>
  
  <!-- Scripts for Sidebar, Filter, and Section Animations -->
  <script>
    // Auto-update the footer year
    document.getElementById("year").textContent = new Date().getFullYear();
    
    // Sidebar Functionality
    document.addEventListener('DOMContentLoaded', function() {
      const menuToggle = document.getElementById('menuToggle');
      const closeSidebar = document.getElementById('closeSidebar');
      const projectSidebar = document.getElementById('projectSidebar');

      // Toggle the sidebar when the menu icon is clicked
      menuToggle.addEventListener('click', function() {
        projectSidebar.classList.add('active');
      });

      // Close the sidebar when the close button is clicked
      closeSidebar.addEventListener('click', function() {
        projectSidebar.classList.remove('active');
      });

      // Close the sidebar if the user clicks outside of it
      document.addEventListener('click', function(e) {
        if (!projectSidebar.contains(e.target) && !menuToggle.contains(e.target)) {
          projectSidebar.classList.remove('active');
        }
      });
      
      // Filter buttons functionality
      const filterButtons = document.querySelectorAll('.filter-btn');
      const featuredList = document.querySelector('.featured-list');
      const otherList = document.querySelector('.other-list');
      const featuredTitle = document.querySelector('.featured-title');
      const otherTitle = document.querySelector('.other-title');

      filterButtons.forEach(btn => {
        btn.addEventListener('click', function() {
          // Remove active class from all filter buttons
          filterButtons.forEach(b => b.classList.remove('active'));
          // Add active class to the clicked button
          btn.classList.add('active');

          const filter = btn.getAttribute('data-filter');

          if (filter === 'featured') {
            featuredList.style.display = 'block';
            featuredTitle.style.display = 'block';
            otherList.style.display = 'none';
            otherTitle.style.display = 'none';
          } else if (filter === 'other') {
            featuredList.style.display = 'none';
            featuredTitle.style.display = 'none';
            otherList.style.display = 'block';
            otherTitle.style.display = 'block';
          } else if (filter === 'all') {
            featuredList.style.display = 'block';
            featuredTitle.style.display = 'block';
            otherList.style.display = 'block';
            otherTitle.style.display = 'block';
          }
        });
      });

      // Set default filter
      document.querySelector('.filter-btn[data-filter="all"]').click();
      
      // Section & Content animations with Intersection Observer
      // Get viewport width
      const width = window.innerWidth;
      
      // Section observer options - Activate earlier for mobile users
      const sectionObserverOptions = width <= 900 ? 
        { threshold: 0.01, rootMargin: "0px 0px -10% 0px" } : // Mobile settings - earlier activation
        { threshold: 0.09, rootMargin: "0px 0px -23% 0px" };   // Desktop settings
      
      // Apply observer to project sections
      const sections = document.querySelectorAll('.project-section');
      const sectionObserver = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('active'); 
            observer.unobserve(entry.target);
          }
        });
      }, sectionObserverOptions);
      
      sections.forEach(section => {
        sectionObserver.observe(section);
      });
      
      // Content block observer options
      const contentBlockObserverOptions = width <= 600 ? 
        { threshold: 0.01, rootMargin: "0px 0px -10% 0px" } : // Mobile settings
        (width <= 900 ? 
          { threshold: 0.05, rootMargin: "0px 0px 0% 0px" } : // Tablet settings
          { threshold: 0.125, rootMargin: "0px 0px -30% 0px" } // Desktop settings
        );
      
      // Apply observer to content blocks
      const contentBlocks = document.querySelectorAll('.content-block');
      const blockObserver = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('active');
            observer.unobserve(entry.target);
          }
        });
      }, contentBlockObserverOptions);
      
      contentBlocks.forEach(block => {
        blockObserver.observe(block);
      });
    });
  </script>
</body>
</html>
